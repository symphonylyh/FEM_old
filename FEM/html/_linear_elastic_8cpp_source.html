<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEM: LinearElastic.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FEM
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">2D Axisymmetrix FEM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">LinearElastic.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_linear_elastic_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_linear_elastic_8h.html">LinearElastic.h</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;LinearElastic::LinearElastic(std::string <span class="keyword">const</span> &amp; fileName) : <a class="code" href="class_analysis.html">Analysis</a>(fileName)</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;{</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;LinearElastic::~LinearElastic()</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;{</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;}</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="class_linear_elastic.html#add96aa6fdb7cbbbcef2dca1f31ca0779">   19</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_linear_elastic.html#add96aa6fdb7cbbbcef2dca1f31ca0779">LinearElastic::solveDisp</a>()</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <a class="code" href="class_analysis.html#a951d32f9e28ea1a5942020f1304208ee">assembleStiffness</a>();</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <a class="code" href="class_analysis.html#ab1c7b59927d7787ef75b0bba651b045c">applyForce</a>();</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <a class="code" href="class_analysis.html#aec157316b08568c84d8d8344a724ff89">boundaryCondition</a>();</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="comment">// Option1: SimplicialLDLT &lt;SparseMatrix&lt;double&gt; &gt; solver;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="comment">// Option2: ConjugateGradient &lt;SparseMatrix&lt;double&gt; &gt; solver;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="comment">// SimplicialLDLT is direct solver: Recommended for very sparse and not too large problems (e.g., 2D Poisson eq.)</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="comment">// ConjugateGradient is iterative solver: Recommended for large symmetric problems (e.g., 3D Poisson eq.)</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    SimplicialLDLT &lt;SparseMatrix&lt;double&gt; &gt; solver;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    solver.compute(<a class="code" href="class_analysis.html#a87256ae6f2ee1d1218b99bf287335fde">globalStiffness</a>);</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="class_analysis.html#a3e2cbd72b96f13d00c8758631c1d6bc9">nodalDisp</a> = solver.solve(<a class="code" href="class_analysis.html#aab2110fe7a0fffd9dd738ed9c5f45012">nodalForce</a>);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    VectorXd responseForce = <a class="code" href="class_analysis.html#a87256ae6f2ee1d1218b99bf287335fde">globalStiffness</a> * <a class="code" href="class_analysis.html#a3e2cbd72b96f13d00c8758631c1d6bc9">nodalDisp</a>;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment">// Write into node information</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_analysis.html#a34604f343af1a7d0ee2d19f2a905773b">mesh</a>.<a class="code" href="class_mesh.html#a6a535f67f00ed39f945aaa1e8039a277">nodeCount</a>(); i++) {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <a class="code" href="class_analysis.html#a34604f343af1a7d0ee2d19f2a905773b">mesh</a>.<a class="code" href="class_mesh.html#ae596a597115563fb308d99e5e15a62e6">nodeArray</a>()[i]-&gt;<a class="code" href="class_node.html#a9703bb2540dbc410edd3a168a6c51cd6">setDisp</a>(<a class="code" href="class_analysis.html#a3e2cbd72b96f13d00c8758631c1d6bc9">nodalDisp</a>(2 * i), <a class="code" href="class_analysis.html#a3e2cbd72b96f13d00c8758631c1d6bc9">nodalDisp</a>(2 * i + 1));</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <a class="code" href="class_analysis.html#a34604f343af1a7d0ee2d19f2a905773b">mesh</a>.<a class="code" href="class_mesh.html#ae596a597115563fb308d99e5e15a62e6">nodeArray</a>()[i]-&gt;<a class="code" href="class_node.html#a261921c1143a8dfb7f7f7f454ce827e3">setForce</a>(responseForce(2 * i), responseForce(2 * i + 1));</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    }</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div><div class="ttc" id="class_analysis_html_aec157316b08568c84d8d8344a724ff89"><div class="ttname"><a href="class_analysis.html#aec157316b08568c84d8d8344a724ff89">Analysis::boundaryCondition</a></div><div class="ttdeci">void boundaryCondition()</div><div class="ttdoc">Designate boundary condition at nodes. </div><div class="ttdef"><b>Definition:</b> <a href="_analysis_8cpp_source.html#l00080">Analysis.cpp:80</a></div></div>
<div class="ttc" id="class_analysis_html"><div class="ttname"><a href="class_analysis.html">Analysis</a></div><div class="ttdef"><b>Definition:</b> <a href="_analysis_8h_source.html#l00041">Analysis.h:41</a></div></div>
<div class="ttc" id="class_linear_elastic_html_add96aa6fdb7cbbbcef2dca1f31ca0779"><div class="ttname"><a href="class_linear_elastic.html#add96aa6fdb7cbbbcef2dca1f31ca0779">LinearElastic::solveDisp</a></div><div class="ttdeci">void solveDisp()</div><div class="ttdoc">Solve for nodal displacement using different approaches. </div><div class="ttdef"><b>Definition:</b> <a href="_linear_elastic_8cpp_source.html#l00019">LinearElastic.cpp:19</a></div></div>
<div class="ttc" id="class_mesh_html_ae596a597115563fb308d99e5e15a62e6"><div class="ttname"><a href="class_mesh.html#ae596a597115563fb308d99e5e15a62e6">Mesh::nodeArray</a></div><div class="ttdeci">Node **const nodeArray() const</div><div class="ttdoc">Get the node array. </div><div class="ttdef"><b>Definition:</b> <a href="_mesh_8cpp_source.html#l00216">Mesh.cpp:216</a></div></div>
<div class="ttc" id="class_analysis_html_a951d32f9e28ea1a5942020f1304208ee"><div class="ttname"><a href="class_analysis.html#a951d32f9e28ea1a5942020f1304208ee">Analysis::assembleStiffness</a></div><div class="ttdeci">void assembleStiffness()</div><div class="ttdoc">Assemble the global stiffness matrix from the local stiffness matrix of each element. </div><div class="ttdef"><b>Definition:</b> <a href="_analysis_8cpp_source.html#l00026">Analysis.cpp:26</a></div></div>
<div class="ttc" id="class_node_html_a261921c1143a8dfb7f7f7f454ce827e3"><div class="ttname"><a href="class_node.html#a261921c1143a8dfb7f7f7f454ce827e3">Node::setForce</a></div><div class="ttdeci">void setForce(const double &amp;Fx, const double &amp;Fy)</div><div class="ttdoc">Assign the final solved force (Fx, Fy) at the node. </div><div class="ttdef"><b>Definition:</b> <a href="_node_8cpp_source.html#l00067">Node.cpp:67</a></div></div>
<div class="ttc" id="class_mesh_html_a6a535f67f00ed39f945aaa1e8039a277"><div class="ttname"><a href="class_mesh.html#a6a535f67f00ed39f945aaa1e8039a277">Mesh::nodeCount</a></div><div class="ttdeci">const int &amp; nodeCount() const</div><div class="ttdoc">Get the total number of the nodes. </div><div class="ttdef"><b>Definition:</b> <a href="_mesh_8cpp_source.html#l00196">Mesh.cpp:196</a></div></div>
<div class="ttc" id="class_analysis_html_a34604f343af1a7d0ee2d19f2a905773b"><div class="ttname"><a href="class_analysis.html#a34604f343af1a7d0ee2d19f2a905773b">Analysis::mesh</a></div><div class="ttdeci">Mesh mesh</div><div class="ttdoc">The mesh information of the problem. </div><div class="ttdef"><b>Definition:</b> <a href="_analysis_8h_source.html#l00118">Analysis.h:118</a></div></div>
<div class="ttc" id="class_analysis_html_aab2110fe7a0fffd9dd738ed9c5f45012"><div class="ttname"><a href="class_analysis.html#aab2110fe7a0fffd9dd738ed9c5f45012">Analysis::nodalForce</a></div><div class="ttdeci">VectorXd nodalForce</div><div class="ttdoc">The nodal force 2n-by-1 vector. </div><div class="ttdef"><b>Definition:</b> <a href="_analysis_8h_source.html#l00127">Analysis.h:127</a></div></div>
<div class="ttc" id="class_analysis_html_a3e2cbd72b96f13d00c8758631c1d6bc9"><div class="ttname"><a href="class_analysis.html#a3e2cbd72b96f13d00c8758631c1d6bc9">Analysis::nodalDisp</a></div><div class="ttdeci">VectorXd nodalDisp</div><div class="ttdoc">The nodal displacement 2n-by-1 vector. </div><div class="ttdef"><b>Definition:</b> <a href="_analysis_8h_source.html#l00124">Analysis.h:124</a></div></div>
<div class="ttc" id="class_node_html_a9703bb2540dbc410edd3a168a6c51cd6"><div class="ttname"><a href="class_node.html#a9703bb2540dbc410edd3a168a6c51cd6">Node::setDisp</a></div><div class="ttdeci">void setDisp(const double &amp;u, const double &amp;v)</div><div class="ttdoc">Assign the final solved displacements (u,v) at the node. </div><div class="ttdef"><b>Definition:</b> <a href="_node_8cpp_source.html#l00062">Node.cpp:62</a></div></div>
<div class="ttc" id="class_analysis_html_ab1c7b59927d7787ef75b0bba651b045c"><div class="ttname"><a href="class_analysis.html#ab1c7b59927d7787ef75b0bba651b045c">Analysis::applyForce</a></div><div class="ttdeci">void applyForce()</div><div class="ttdoc">Apply the load at nodes. </div><div class="ttdef"><b>Definition:</b> <a href="_analysis_8cpp_source.html#l00072">Analysis.cpp:72</a></div></div>
<div class="ttc" id="_linear_elastic_8h_html"><div class="ttname"><a href="_linear_elastic_8h.html">LinearElastic.h</a></div><div class="ttdoc">Derived class from Analysis for linear elastic problems. </div></div>
<div class="ttc" id="class_analysis_html_a87256ae6f2ee1d1218b99bf287335fde"><div class="ttname"><a href="class_analysis.html#a87256ae6f2ee1d1218b99bf287335fde">Analysis::globalStiffness</a></div><div class="ttdeci">SparseMatrix&lt; double &gt; globalStiffness</div><div class="ttdoc">The global stiffness matrix as a 2n-by-2n sparse matrix. </div><div class="ttdef"><b>Definition:</b> <a href="_analysis_8h_source.html#l00121">Analysis.h:121</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
